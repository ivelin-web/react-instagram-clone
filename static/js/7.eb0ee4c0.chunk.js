(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[7],{115:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c}));var n=a(116),r=n.a.initializeApp({apiKey:"AIzaSyCztakH5kbQAx_-8SNOZtDLoq-8AmHTN1U",authDomain:"instagram-clone-react-e8004.firebaseapp.com",projectId:"instagram-clone-react-e8004",storageBucket:"instagram-clone-react-e8004.appspot.com",messagingSenderId:"485454194350",appId:"1:485454194350:web:9dcef08d4383719e2bef3f",measurementId:"G-1Z61LZMR0Q"}),s=n.a.firestore(),c=r.storage(),i=r.auth(),o=new n.a.auth.GoogleAuthProvider;t.b=s},148:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(18),r=a(0),s=a(109),c=a(134),i=a.n(c),o=a(133),l=a.n(o),d=a(116),u=a(115),m=a(14),b=a(132),p=a(154),j=a(153),f=a(151),g=a(152),h=a(149),x=a(2);function O(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),a=Object(r.useState)(null),c=Object(n.a)(a,2),o=c[0],O=c[1],v=Object(r.useState)(!1),y=Object(n.a)(v,2),N=y[0],k=y[1],w=Object(m.b)(),S=Object(n.a)(w,2),R=S[0].user,A=(S[1],function(){k(!1)}),I=function(){O(null)};return Object(x.jsxs)("div",{className:"mb-8 bg-white p-3 border border-gray-300",children:[Object(x.jsxs)(p.a,{open:N,keepMounted:!0,onClose:A,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(x.jsx)(h.a,{id:"alert-dialog-slide-title",children:"Select image first!"}),Object(x.jsx)(f.a,{children:Object(x.jsx)(g.a,{id:"alert-dialog-slide-description",children:"Please select any image first and then upload a post."})}),Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{className:"focus:outline-none",onClick:A,color:"primary",children:"OK"})})]}),Object(x.jsxs)("div",{className:"flex items-center border-b border-gray-200 pb-3 mb-3 gap-3",children:[Object(x.jsx)(s.a,{className:"cursor-pointer",src:R.photoURL,alt:"Avatar"}),Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.current.value&&(o?(u.b.collection("posts").add({src:R.photoURL,name:R.displayName,likes:0,message:e.current.value,timestamp:d.a.firestore.FieldValue.serverTimestamp()}).then((function(e){var t=u.d.ref("/posts/".concat(e.id)).putString(o,"data_url");I(),t.on("state_change",null,(function(e){return console.log(e)}),(function(){u.d.ref("posts").child(e.id).getDownloadURL().then((function(t){u.b.collection("posts").doc(e.id).set({image:t},{merge:!0})}))}))})),e.current.value=""):k(!0))},className:"flex-grow",children:[Object(x.jsx)("input",{ref:e,className:"w-full focus:outline-none bg-transparent rounded-full bg-gray-100 p-2 pl-3 hover:bg-gray-200 transition-colors duration-200",type:"text",placeholder:"Whats on your mind, ".concat(R.displayName.split(" ")[0])}),Object(x.jsx)("button",{type:"submit",hidden:!0,children:"Submit"})]}),o&&Object(x.jsxs)("div",{onClick:I,className:"cursor-pointer",children:[Object(x.jsx)("img",{className:"w-14 h-14 shadow-md object-cover block rounded-full",src:o,alt:"Post Image"}),Object(x.jsx)("p",{className:"text-sm text-red-500 text-center font-medium",children:"Remove"})]})]}),Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsxs)("div",{className:"flex items-center justify-center flex-grow rounded-lg p-1 gap-1 cursor-pointer hover:bg-gray-100 transition-colors duration-200",title:"Not Working...",children:[Object(x.jsx)(l.a,{className:"text-red-500",style:{fontSize:30}}),Object(x.jsx)("p",{className:"text-gray-500 font-medium text-sm select-none",children:"Live Video"})]}),Object(x.jsxs)("div",{onClick:function(){return t.current.click()},className:"flex items-center justify-center flex-grow rounded-lg p-1 gap-1 cursor-pointer hover:bg-gray-100 transition-colors duration-200",children:[Object(x.jsx)(i.a,{className:"text-green-500",style:{fontSize:30}}),Object(x.jsx)("p",{className:"text-gray-500 font-medium text-sm select-none",children:"Image/Video"}),Object(x.jsx)("input",{ref:t,onChange:function(e){var t=new FileReader;e.target.files[0]&&t.readAsDataURL(e.target.files[0]),t.onload=function(e){O(e.target.result)}},type:"file",hidden:!0})]})]})]})}}}]);
//# sourceMappingURL=7.eb0ee4c0.chunk.js.map